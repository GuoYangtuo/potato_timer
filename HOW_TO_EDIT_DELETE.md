# 如何编辑和删除目标/激励 - 用户指南

## 快速开始

### 编辑目标

#### 方法一：长按卡片
1. 在首页找到要编辑的目标卡片
2. **长按**卡片1-2秒
3. 弹出选项菜单后，点击"编辑"
4. 在编辑页面修改内容
5. 点击右上角"保存"按钮

#### 方法二：主线任务长按
1. 找到主线任务的大卡片（渐变色背景）
2. **长按**卡片1-2秒
3. 选择"编辑"选项
4. 修改后保存

### 删除目标

1. **长按**目标卡片
2. 在弹出菜单中点击"删除"（红色）
3. 在确认对话框中点击"删除"
4. 目标将被删除，列表自动刷新

⚠️ **注意**：删除操作无法撤销，请谨慎操作！

---

### 编辑激励

#### 方法一：长按卡片
1. 进入"我的"页面
2. 切换到"我的激励"或"收藏"标签
3. **长按**激励卡片
4. 点击"编辑"
5. 修改内容后保存

#### 方法二：点击更多按钮
1. 在激励卡片底部找到"..."按钮
2. **点击**更多按钮
3. 选择"编辑"
4. 修改内容后保存

### 删除激励

1. 使用上述任一方法打开选项菜单
2. 点击"删除"（红色）
3. 确认删除
4. 激励将被删除

---

## 功能详解

### 可编辑的内容

#### 目标
- ✅ 标题
- ✅ 描述
- ✅ 提醒时间
- ✅ 计时器设置（微习惯）
- ✅ 总时长和单次时长（主线任务）
- ✅ 关联的激励内容
- ✅ 公开/私密设置
- ❌ 目标类型（创建后不可修改）

#### 激励
- ✅ 标题
- ✅ 内容文字
- ✅ 媒体文件（图片/视频）
- ✅ 标签
- ✅ 类型（正向/反向）
- ✅ 公开/私密设置

### 离线模式支持

#### 离线编辑
- 在没有网络的情况下也可以编辑
- 修改会立即保存到本地
- 恢复网络后自动同步到服务器
- 底部会显示提示："已保存到本地，联网后自动同步"

#### 离线删除
- 离线时也可以删除目标/激励
- 删除操作会立即在本地生效
- 网络恢复后同步删除到服务器

---

## 常见场景

### 场景1：修改微习惯的提醒时间

```
原来：每天早上 8:00 提醒锻炼
想改成：每天早上 7:00 提醒锻炼
```

**操作步骤**：
1. 长按"每天锻炼10分钟"卡片
2. 点击"编辑"
3. 点击"提醒时间"选择器
4. 修改为 07:00
5. 点击"保存"

### 场景2：为目标添加新的激励内容

```
目标：学习Flutter开发
需求：添加一个新的正向激励
```

**操作步骤**：
1. 长按"学习Flutter开发"卡片
2. 点击"编辑"
3. 滚动到"关联激励内容"部分
4. 选择要添加的激励（点击激励标签）
5. 点击"保存"

### 场景3：清理不再需要的激励

```
情况：收藏了很多激励，想删除一些不需要的
```

**操作步骤**：
1. 进入"我的"页面
2. 切换到"收藏"标签
3. 长按要删除的激励卡片
4. 点击"删除"
5. 确认删除
6. 重复步骤3-5清理其他激励

### 场景4：修改主线任务的总时长

```
原计划：100小时完成
实际需要：150小时
```

**操作步骤**：
1. 长按主线任务大卡片
2. 点击"编辑"
3. 修改"预计总时长"为 150
4. 点击"保存"

---

## 安全提示

### 删除前请注意

1. **删除目标会同时删除**：
   - 所有完成记录
   - 连续打卡天数
   - 统计数据

2. **删除激励会影响**：
   - 关联此激励的目标将失去该激励内容
   - 但不会删除目标本身

3. **建议操作**：
   - 重要目标删除前先截图保存数据
   - 考虑暂停（Pause）而非删除
   - 定期导出数据备份（如有此功能）

### 取消操作

如果误点了删除：
1. 在确认对话框中点击"取消"
2. 或点击对话框外部区域关闭
3. 或按返回键取消

---

## 键盘快捷键（Desktop端）

| 操作 | 快捷键 |
|------|--------|
| 保存编辑 | `Ctrl/Cmd + S` |
| 取消编辑 | `Esc` |
| 关闭对话框 | `Esc` |

---

## 常见问题

### Q1: 为什么长按没有反应？
**A**: 
- 确保长按时间足够（1-2秒）
- 不要在长按过程中移动手指
- 部分区域（如按钮）可能不支持长按，请尝试卡片主体区域

### Q2: 删除后可以恢复吗？
**A**: 
- 目前不支持撤销功能
- 删除是永久性的
- 建议在删除前再次确认

### Q3: 编辑后为什么没有保存？
**A**: 
- 检查是否点击了右上角的"保存"按钮
- 确保必填字段已填写（如标题）
- 查看是否有错误提示

### Q4: 离线编辑的内容会丢失吗？
**A**: 
- 不会！所有编辑都先保存到本地
- 即使长时间离线也不会丢失
- 联网后会自动同步

### Q5: 可以批量删除吗？
**A**: 
- 当前版本不支持批量操作
- 需要逐个删除
- 后续版本可能会添加此功能

### Q6: 如何修改目标类型（微习惯↔主线任务）？
**A**: 
- 目标类型在创建后不可修改
- 建议创建新目标，然后删除旧目标
- 或者将旧目标暂停，创建新目标

---

## 反馈与建议

如果您在使用过程中遇到问题或有改进建议：
1. 查看应用内帮助文档
2. 联系开发团队
3. 在设置中提交反馈

---

**最后更新**: 2026-01-26
**版本**: v1.0

